<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tìm kiếm địa điểm</title>

  <style>
    * {
      box-sizing: border-box;
      font-family: Arial, system-ui;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: #f5f9ff;
      display: flex;
      justify-content: center;
      padding-top: 40px;
      color: #1f2937;
    }

    .container {
      width: 100%;
      max-width: 720px;
      background: white;
      padding: 40px;
      border-radius: 20px;
      border: 1px solid #e5edff;
    }

    h1 {
      text-align: center;
      color: #1e40af;
      margin-bottom: 28px;
      font-size: 28px;
    }

    .search-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }

    .search-bar input {
      flex: 1;
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid #dbe7ff;
      font-size: 15px;
    }

    .search-bar button {
      padding: 14px 18px;
      border: none;
      border-radius: 12px;
      background: #2563eb;
      color: white;
      font-weight: 600;
      cursor: pointer;
    }

    /* TEXT FIRST */
    #contenAdress {
      padding: 24px;
      border-radius: 16px;
      background: #f8fbff;
      border: 1px solid #e5edff;
      font-size: 15px;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    /* IMAGE BELOW TEXT */
    #imageBox {
      width: 100%;
      height: 260px;
      border-radius: 16px;
      background: #eaf1ff;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border: 1px solid #e5edff;
    }

    .back {
      display: block;
      margin-top: 32px;
      text-align: center;
      text-decoration: none;
      color: #2563eb;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Tìm kiếm địa điểm</h1>

    <!-- SEARCH BAR -->
    <div class="search-bar">
      <input
        id="txtAdress"
        placeholder="Nhập địa điểm (Hà Nội, Vịnh Hạ Long...)"
      />
      <button onclick="getDesInput()">Tìm</button>
    </div>

    <!-- TEXT -->
    <div id="contenAdress">
      Nhập địa điểm và bấm <b>Tìm</b> để xem mô tả từ Wikipedia.
    </div>

    <!-- IMAGE -->
    <div id="imageBox"></div>

    <!-- BACK -->
    <a class="back" href="menu.html">← Quay về Menu</a>
  </div>

  <script>
    function getDesInput() {
      const adress = document.getElementById("txtAdress").value.trim();
      if (!adress) return;
      getDes(adress);
    }

    async function getDes(keyword) {
      const content = document.getElementById("contenAdress");
      const imgBox = document.getElementById("imageBox");

      content.innerHTML = "Đang tải thông tin…";
      imgBox.style.backgroundImage = "none";

      fetch(
        "https://vi.wikipedia.org/api/rest_v1/page/summary/" +
          encodeURIComponent(keyword)
      )
        .then(res => res.json())
        .then(data => {
          if (!data.extract_html) {
            content.innerHTML = "Không tìm thấy địa điểm.";
            return;
          }

          content.innerHTML = data.extract_html;

          if (data.originalimage && data.originalimage.source) {
            imgBox.style.backgroundImage = `url(${data.originalimage.source})`;
          }
        })
        .catch(() => {
          content.innerHTML = "Lỗi khi tải dữ liệu.";
        });
    }
     (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="_-p1pGtIrxEI2lx_xTJME";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
  </script>
</body>
</html>
